LED EQU P1.7
ORG 00H
LJMP MAIN

DELAY_OF_50_MS:
	MOV R2,#200
	BACK1:
	MOV R1,#0FFH
	BACK :
	DJNZ R1, BACK
	DJNZ R2, BACK1
RET

DELAY_OF_500_MS:
	MOV R0, #0DH
	LOOP500 :
		ACALL DELAY_OF_50_MS
		DJNZ R0, LOOP500
RET

DELAY:
	USING 0
	PUSH PSW
	PUSH AR0
	PUSH AR1
	PUSH AR2
	PUSH AR3
	
	MOV A, 4FH
	MOV R3, A
DELAY1:
	LOOP_DELAY:
		ACALL DELAY_OF_500_MS
		DJNZ R3, LOOP_DELAY
	
	POP AR3
	POP AR2
	POP AR1
	POP AR0
	POP PSW
RET

org 100H	
MAIN:
	LOOP:
		SETB LED
		ACALL DELAY
		CLR LED
		ACALL DELAY
	SJMP LOOP
END